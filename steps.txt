Ubuntu (18/20)
1. clone shadow git
2. sudo apt-get build-dep shadow
3. run ./autogen.sh
4. Add Hook Code
5. sudo make all
6. sudo chmod 4755 passwd


Debian (11)
1. clone shadow git
2. sudo apt-get build-dep shadow
3. run ./autogen.sh
4. Add Hook Code
5. sudo make all
6. sudo chmod 4755 passwd

CentOS (8)
1. clone shadow git
2. yum deplist passwd | awk '/provider:/ {print $2}' | sort -u | xargs yum -y install
3. yum install -y autoconf gettext-devel automake
4. dnf group install "Development Tools"
5. run ./autogen.sh
6. Add Hook Code
7. sudo make all
6. sudo chmod 4755 passwd

Troubleshooting
1. Try "make clean" if you are not getting the changed code